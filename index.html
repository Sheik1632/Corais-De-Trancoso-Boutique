<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- Favicon para navegadores -->
<link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="64x64" href="images/favicon-64x64.png">
<link rel="icon" href="images/favicon.ico">

<!-- Favicon para iPhone/iPad -->
<link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Corais de Trancoso Boutique</title>

  <!-- √çcones e fontes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Flatpickr (mover para o head) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">

  <!-- Seu CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ===== NAV ===== -->
  <nav class="topo-menu">
    <div class="menu-container">
      <!-- LOGO -->
    <!-- LOGO -->
<div class="menu-logo">
  <a href="index.html" class="menu-link">
    <img src="images/logo-pequena.png.png" alt="Logo da pousada" />
    Corais de Trancoso Boutique
  </a>
</div>
      <!-- Bot√£o hamb√∫rguer (mobile) -->
      <button class="hamburger" aria-label="Abrir menu" aria-expanded="false" aria-controls="menuLinks">‚ò∞</button>

      <!-- LINKS DO MENU -->
      <ul id="menuLinks" class="menu-links">
        <li><a href="#sobre">Sobre</a></li>
        <li><a href="#servicos">Servi√ßos</a></li>
        <li><a href="#praias">Destinos</a></li>
        <li><a href="suites.html">Su√≠tes</a></li>
        <li><a href="#mapa">Mapa</a></li>
        <li><a href="#reserva">Reservar</a></li>

        <!-- MENU DROPDOWN GALERIA -->
        <li class="dropdown">
          <a href="#" id="gallery-menu">Galeria ‚ñº</a>
          <ul class="dropdown-menu">
            <li><a href="Area interna.html">√Årea Interna</a></li>
            <li><a href="Cafe.html">Caf√© da Manh√£</a></li>
            <li><a href="Piscina.html">Piscina</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <!-- ===== HEADER / HERO ===== -->
  <!-- ===== HEADER / HERO ===== -->
<header>
  <div class="carousel-container">
    <div class="carousel-background">
      <!-- SLIDE 1 ‚Äì prioridade alta, sem lazy -->
      <img
        class="active hero-slide"
        src="images/AREA EXTERNA/4E1A0818.jpg"
        alt="Entrada da pousada"
        fetchpriority="high"
        decoding="async">

      <!-- SLIDE 2 ‚Äì lazy -->
      <img
        src="images\CAF√â DA MANH√É\IMG_1273.JPG"
        alt="√Årea externa"
        loading="lazy"
        decoding="async">

      <!-- SLIDE 3 ‚Äì lazy -->
      <img
        src="images/AREA EXTERNA/4E1A0320.jpg"
        alt="Jardim"
        loading="lazy"
        decoding="async">
    </div>
  </div>
</header>

      <div class="welcome-text hero-card">
        <h1>Bem-vindo √† Corais de Trancoso Boutique</h1>
        <p>Um ref√∫gio exclusivo em Trancoso</p>

        <!-- Bot√£o para abrir modal -->
        <button class="abrir-reserva btn btn-primary">Reservar</button>

        <!-- Modal -->
        <div class="modal" id="modalReserva" role="dialog" aria-modal="true" aria-labelledby="tituloReserva">
          <div class="modal-content">
            <span class="fechar" aria-label="Fechar">&times;</span>
            <h2 id="tituloReserva">Reserve sua estadia</h2>

            <form id="formReserva" novalidate>
              <div class="form-row">
                <div class="form-group">
                  <label for="checkin">Check-in</label>
                  <input type="date" id="checkin" required />
                </div>

                <div class="form-group">
                  <label for="checkout">Check-out</label>
                  <input type="date" id="checkout" required />
                </div>
              </div>

              <div class="form-row">
                <div class="form-group">
                  <label for="adultos">Adultos</label>
                  <input type="number" id="adultos" value="2" min="1" required />
                </div>

                <div class="form-group">
                  <label for="criancas">Crian√ßas</label>
                  <input type="number" id="criancas" value="0" min="0" />
                </div>
              </div>

              <button type="submit" class="btn-reservar btn btn-primary">Buscar Disponibilidade</button>
            </form>

            <!-- Preview boutique (opcional, via JS) -->
            <div id="quartosPreview" aria-live="polite"></div>

            <!-- Motor Omnibees -->
            <div id="resultadoDisponivel" style="width:100%;display:none;">
              <iframe id="omnibeesFrame" title="Disponibilidade Omnibees"
                      style="width:100%;height:70vh;border:0;border-radius:10px;overflow:auto;"></iframe>
              <p style="margin-top:10px;text-align:center;">
                <a id="omnibeesLink" href="#" target="_blank" rel="noopener" style="color:#0A2342;font-weight:700;">
                  Abrir disponibilidade em nova aba
                </a>
              </p>
            </div>

            <div id="mensagemReserva" aria-live="polite"></div>
          </div>
        </div>
      </div><!-- /.welcome-text -->
    </div><!-- /.carousel-container -->
  </header>

  <main>
    <!-- ===== SOBRE ===== -->
    <section id="sobre" class="container sobre-profissional">
      <div class="sobre-conteudo">
        <div class="texto-sobre">
          <h2>Experi√™ncia Boutique em Trancoso</h2>
          <p>Bem-vindo √† <strong>Corais de Trancoso Boutique</strong>, um ref√∫gio exclusivo onde o charme r√∫stico da vila se encontra com o conforto e sofistica√ß√£o de uma hospedagem cuidadosamente pensada para seu bem-estar.</p>
          <p>Localizada a poucos minutos das praias mais encantadoras da Bahia, nossa pousada oferece um ambiente intimista, rodeado por natureza, tranquilidade e hospitalidade local.</p>
          <p>Cada detalhe foi criado para tornar sua estadia inesquec√≠vel ‚Äî desde o caf√© da manh√£ artesanal at√© os espa√ßos acolhedores e os servi√ßos personalizados.</p>
        </div>
        <div class="imagem-sobre">
          <img src="images/AREA EXTERNA/4E1A0320.jpg" alt="Vista da pousada Corais de Trancoso" />
        </div>
      </div>
    </section>

    <!-- ===== SERVI√áOS ===== -->
    <section id="servicos" class="servicos-section container">
      <h2>Nossos Servi√ßos</h2>
      <p>Oferecemos servi√ßos exclusivos para tornar sua estadia inesquec√≠vel.</p>
      <div class="servicos">
        <div class="servico-card">
          <i class="fas fa-user-headset" aria-hidden="true"></i>
          <h3>Atendimento Personalizado</h3>
          <p>Equipe dedicada para garantir conforto e satisfa√ß√£o durante sua estadia.</p>
        </div>
        <div class="servico-card">
          <i class="fas fa-coffee" aria-hidden="true"></i>
          <h3>Caf√© da Manh√£ Gourmet</h3>
          <p>Del√≠cias regionais preparadas com ingredientes frescos e naturais.</p>
        </div>
        <div class="servico-card">
          <i class="fas fa-swimmer" aria-hidden="true"></i>
          <h3>Piscina e Lazer</h3>
          <p>Espa√ßo relaxante com piscina aquecida e √°rea de descanso.</p>
        </div>
        <div class="servico-card">
          <i class="fas fa-wifi" aria-hidden="true"></i>
          <h3>Wi-Fi Gratuito</h3>
          <p>Internet r√°pida e est√°vel para manter voc√™ conectado durante toda a estadia.</p>
        </div>
      </div>
    </section>
<!-- ===== PASSEIOS ===== -->
<section id="passeios" class="passeios-section container">
  <h2>Servi√ßos de Passeios</h2>
  <p>Explore as experi√™ncias √∫nicas que oferecemos para tornar sua estadia inesquec√≠vel.</p>
  <div class="passeios">
    
    <div class="passeio-card">
      <i class="fas fa-ship" aria-hidden="true"></i>
      <h3>Passeios de Lancha</h3>
      <p>Descubra as belezas do litoral com conforto e emo√ß√£o a bordo de nossas lanchas.</p>
      <a href="passeios.html" class="btn btn-outline" aria-label="Saiba mais sobre Passeios de Lancha">
        Saiba Mais
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M7 17L17 7M17 7H9M17 7v8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <div class="passeio-card">
      <i class="fas fa-motorcycle" aria-hidden="true"></i>
      <h3>Passeios de Quadriciclo com P√¥r do Sol</h3>
      <p>Aventura e paisagens incr√≠veis para voc√™ curtir o p√¥r do sol de um jeito especial.</p>
      <a href="passeios.html" class="btn btn-outline" aria-label="Saiba mais sobre Passeios de Quadriciclo">
        Saiba Mais
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M7 17L17 7M17 7H9M17 7v8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <div class="passeio-card">
      <i class="fas fa-horse" aria-hidden="true"></i>
      <h3>Passeios a Cavalo</h3>
      <p>Experi√™ncia √∫nica cavalgando por trilhas e praias da regi√£o.</p>
      <a href="passeios.html" class="btn btn-outline" aria-label="Saiba mais sobre Passeios a Cavalo">
        Saiba Mais
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M7 17L17 7M17 7H9M17 7v8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

    <div class="passeio-card">
      <i class="fas fa-shuttle-van" aria-hidden="true"></i>
      <h3>Servi√ßos de Transfer</h3>
      <p>Transporte confort√°vel e seguro para voc√™ chegar com tranquilidade aos seus destinos.</p>
      <a href="passeios.html" class="btn btn-outline" aria-label="Saiba mais sobre Servi√ßos de Transfer">
        Saiba Mais
        <svg class="icon" viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M7 17L17 7M17 7H9M17 7v8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>

  </div>
</section>

  <!-- ===== DESTINOS (CARROSSEL) ===== -->
<section id="praias" class="destinos container">
  <h2>Destinos Imperd√≠veis</h2>

  <div class="praia-carousel" aria-roledescription="carousel">
    <!-- Slide 1 -->
    <div class="destino-slide active" aria-hidden="false">
      <img
        src="images/PRAIAS/Nativos.jpg"
        alt="Praia dos Nativos em Trancoso"
        loading="eager" fetchpriority="high" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia dos Nativos</h3>
        <p>Um pedacinho do para√≠so, vibe descontra√≠da e clima acolhedor.</p>
      </div>
    </div>

    <!-- Slide 2 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/outeiro-das-brisas-bahia-brasil.jpg"
        alt="Praia do Espelho com fal√©sias e √°guas claras"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia do Espelho</h3>
        <p>√Åguas cristalinas e fal√©sias deslumbrantes.</p>
      </div>
    </div>

    <!-- Slide 3 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Coqueiros.jpg"
        alt="Praia dos Coqueiros com mar calmo"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia dos Coqueiros</h3>
        <p>√Åguas calmas e quentes, perfeita para relaxar.</p>
      </div>
    </div>

    <!-- Slide 4 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Praia-de-Itapororoca.jpeg"
        alt="Praia de Itapororoca com fal√©sias e mar tranquilo"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia de Itapororoca</h3>
        <p>Natureza preservada e sossego com belas fal√©sias.</p>
      </div>
    </div>

    <!-- Slide 5 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Rio verde.jpg"
        alt="Praia do Rio Verde de mar calmo"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia do Rio Verde</h3>
        <p>Mar calmo e √°guas cristalinas.</p>
      </div>
    </div>

    <!-- Slide 6 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Tartarugas.jpg"
        alt="Praia das Tartarugas com natureza preservada"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia das Tartarugas</h3>
        <p>Sossego e contato com a natureza.</p>
      </div>
    </div>

    <!-- Slide 7 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Rio da barra.jpg"
        alt="Praia do Rio da Barra com dunas e manguezais"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia do Rio da Barra</h3>
        <p>Ambiente r√∫stico com dunas e manguezais, ideal para relaxar.</p>
      </div>
    </div>

    <!-- Slide 8 -->
    <div class="destino-slide" aria-hidden="true">
      <img
        src="images/PRAIAS/Caraiva.png"
        alt="Encontro do rio com o mar em Cara√≠va"
        loading="lazy" decoding="async"
        width="1600" height="1000"
        sizes="(max-width: 1024px) 100vw, 1080px"
      >
      <div class="praia-info">
        <h3>Praia do Rio Cara√≠va</h3>
        <p>Lugar r√∫stico e tranquilo, visual de mangues e muito sossego.</p>
      </div>
    </div>

    <!-- Bot√µes -->
    <button class="prev" aria-label="Slide anterior">‚ùÆ</button>
    <button class="next" aria-label="Pr√≥ximo slide">‚ùØ</button>
  </div>

  <!-- Dots -->
  <div class="dots-container" aria-label="Navega√ß√£o de slides"></div>
</section>
    <!-- ===== RESERVA ===== -->
    <section id="reserva" class="container">
      <h2>Reservas</h2>
      <div class="reserva-intro">
        <h3>üõéÔ∏è Quero realizar minha reserva</h3>
        <p>Escolha abaixo a forma que prefere reservar sua estadia conosco:</p>
      </div>
      <div class="btn-group">
        <a href="https://wa.me/557398678158" class="btn-reserva">üì≤ Via WhatsApp</a>
      </div>
    </section>

    <!-- ===== MAPA ===== -->
    <section id="mapa" class="mapa container">
      <h2>Localiza√ß√£o</h2>
      <iframe
        src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3823.60435661718!2d-39.0988038!3d-16.596411!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x7369d0c3a51b683%3A0x24628b28ec2f9bdc!2sCorais%20de%20Trancoso%20Boutique!5e0!3m2!1spt-BR!2sbr!4v1757190368070!5m2!1spt-BR!2sbr"
        width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
        referrerpolicy="no-referrer-when-downgrade"
        title="Mapa de localiza√ß√£o">
      </iframe>
    </section>
  </main>

  <!-- ===== RODAP√â ===== -->
  <footer>
    <p>¬© 2025 Corais de Trancoso Boutique</p>
    <p>
      <a href="https://instagram.com" target="_blank" rel="noopener">Instagram</a> |
      <a href="https://wa.me/557398678158" target="_blank" rel="noopener">WhatsApp</a> |
      <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a>
    </p>
  </footer>

  <!-- ===== SEU JS (igual ao que voc√™ enviou) ===== -->
<script>
  (function () {
    const btn = document.querySelector('.hamburger');
    const menu = document.getElementById('menuLinks');
    const galleryToggle = document.getElementById('gallery-menu');
    const dropdown = galleryToggle?.parentElement;

    // Abre/fecha menu no mobile
    function toggleMenu() {
      const aberto = menu.classList.toggle('aberto');
      btn.setAttribute('aria-expanded', aberto ? 'true' : 'false');
      // opcional: trava rolagem do body quando o menu abre
      document.body.style.overflow = aberto ? 'hidden' : '';
    }
    btn.addEventListener('click', toggleMenu);

    // Fecha ao tocar fora (mobile)
    document.addEventListener('click', (e) => {
      const cliqueDentro = e.target.closest('.topo-menu');
      if (!cliqueDentro && menu.classList.contains('aberto')) {
        toggleMenu();
      }
    });

    // Dropdown "Galeria" no mobile: abre por clique
    if (galleryToggle && dropdown) {
      galleryToggle.addEventListener('click', (e) => {
        // Em telas pequenas, impedir navega√ß√£o e s√≥ abrir o submenu
        if (window.matchMedia('(max-width: 900px)').matches) {
          e.preventDefault();
          dropdown.classList.toggle('open');
        }
      });
    }

    // Acessibilidade: fechar com Esc
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && menu.classList.contains('aberto')) toggleMenu();
    });
  })();
  /*** ========== LAZY (vale para o site todo) ========== ***/
  const io = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (!e.isIntersecting) return;
      const img = e.target;
      if (img.dataset.src)   img.src    = img.dataset.src;
      if (img.dataset.srcset) img.srcset = img.dataset.srcset;
      img.addEventListener('load', () => img.classList.add('loaded'), { once: true });
      io.unobserve(img);
    });
  }, { rootMargin: '400px' });

  document.querySelectorAll('img[data-src]').forEach(img => io.observe(img));

  /*** ========== CARROSSEL HERO (header) ========== ***/
  (function heroCarousel(){
    const heroSlides = Array.from(document.querySelectorAll('.carousel-background img, .carousel-background picture > img'));
    if (!heroSlides.length) return;

    let heroIdx = 0;
    function showHeroSlide(n){
      heroSlides[heroIdx].classList.remove('active');
      heroIdx = (n + heroSlides.length) % heroSlides.length;
      heroSlides[heroIdx].classList.add('active');

      // Pr√©-carregar pr√≥ximo, se tiver lazy
      const next = heroSlides[(heroIdx + 1) % heroSlides.length];
      const nextSrc = next.dataset ? (next.dataset.src || next.currentSrc || next.src) : (next.currentSrc || next.src);
      if (nextSrc) {
        const link = document.createElement('link');
        link.rel = 'preload'; link.as = 'image'; link.href = nextSrc;
        document.head.appendChild(link);
      }
    }
    setInterval(() => showHeroSlide(heroIdx + 1), 5000);
  })();

  /*** ========== CARROSSEL DESTINOS (com setas e bolinhas) ========== ***/
  (function destinosCarousel(){
    const wrapper = document.querySelector('.praia-carousel');
    if (!wrapper) return;

    const destinoSlides = wrapper.querySelectorAll('.destino-slide');
    if (!destinoSlides.length) return;

    const prevBtn = wrapper.querySelector('.prev');
    const nextBtn = wrapper.querySelector('.next');
    const dotsContainer = wrapper.querySelector('.dots-container');

    let currentIndex = 0;
    let slideInterval;

    // Criar dots dentro do pr√≥prio carrossel
    if (dotsContainer) {
      destinoSlides.forEach((_, idx) => {
        const dot = document.createElement('button');
        dot.setAttribute('aria-label', `Slide ${idx + 1}`);
        if (idx === 0) dot.classList.add('active');
        dot.addEventListener('click', () => { showDestinoSlide(idx); resetInterval(); });
        dotsContainer.appendChild(dot);
      });
    }
    const dots = dotsContainer ? dotsContainer.querySelectorAll('button') : [];

    function showDestinoSlide(index){
      destinoSlides.forEach((slide, i) => slide.classList.toggle('active', i === index));
      dots.forEach((d, i) => d.classList.toggle('active', i === index));
      currentIndex = index;
    }
    function nextSlide(){ showDestinoSlide((currentIndex + 1) % destinoSlides.length); }
    function prevSlide(){ showDestinoSlide((currentIndex - 1 + destinoSlides.length) % destinoSlides.length); }
    function resetInterval(){ clearInterval(slideInterval); slideInterval = setInterval(nextSlide, 5000); }

    if (nextBtn) nextBtn.addEventListener('click', () => { nextSlide(); resetInterval(); });
    if (prevBtn) prevBtn.addEventListener('click', () => { prevSlide(); resetInterval(); });

    showDestinoSlide(currentIndex);
    slideInterval = setInterval(nextSlide, 5000);
  })();

  /*** ========== MENU MOBILE / DROPDOWN (sem mudan√ßas) ========== ***/
  const btnHamb = document.querySelector('.hamburger');
  const menu = document.getElementById('menuLinks');
  if (btnHamb && menu) {
    btnHamb.addEventListener('click', () => {
      const opened = menu.classList.toggle('open');
      btnHamb.setAttribute('aria-expanded', opened ? 'true' : 'false');
    });
  }
  const dropdown = document.querySelector('.dropdown');
  const galleryMenu = document.getElementById('gallery-menu');
  if (dropdown && galleryMenu) {
    galleryMenu.addEventListener('click', (e) => { e.preventDefault(); dropdown.classList.toggle('open'); });
  }

  /*** ========== MODAL DE RESERVA / OMNIBEES (como j√° estava) ========== ***/
  (function () {
    const OMNIBEES_HOTEL_ID = "22031";
    const modal     = document.getElementById("modalReserva");
    const abrirBtn  = document.querySelector(".abrir-reserva");
    const fecharBtn = modal ? modal.querySelector(".fechar") : null;
    const form      = document.getElementById("formReserva");
    const checkin   = document.getElementById("checkin");
    const checkout  = document.getElementById("checkout");

    if (abrirBtn && modal) abrirBtn.addEventListener("click", () => modal.classList.add("show"));
    if (fecharBtn && modal) fecharBtn.addEventListener("click", () => modal.classList.remove("show"));
    window.addEventListener("click", (e) => { if (e.target === modal) modal.classList.remove("show"); });
    window.addEventListener("keydown", (e) => { if (e.key === "Escape") modal.classList.remove("show"); });

    function todayISO(offset = 0) {
      const d = new Date(); d.setDate(d.getDate() + offset);
      const m = String(d.getMonth() + 1).padStart(2, "0");
      const day = String(d.getDate()).padStart(2, "0");
      return `${d.getFullYear()}-${m}-${day}`;
    }
    function toDDMMYYYY(str) {
      if (!str) return "";
      if (str.includes("-")) { const [y,m,d]=str.split("-"); return `${d}${m}${y}`; }
      if (str.includes("/")) { const [dd,mm,yyyy]=str.split("/"); return `${dd}${mm}${yyyy}`; }
      return "";
    }

    if (checkin && checkout) {
      checkin.min  = todayISO(0);
      checkout.min = todayISO(1);
      checkin.addEventListener("change", () => {
        if (!checkin.value) return;
        const ci = new Date(checkin.value);
        const coMin = new Date(ci); coMin.setDate(ci.getDate() + 1);
        const minStr = `${coMin.getFullYear()}-${String(coMin.getMonth()+1).padStart(2,"0")}-${String(coMin.getDate()).padStart(2,"0")}`;
        checkout.min = minStr;
        if (!checkout.value || checkout.value < minStr) checkout.value = minStr;
      });
    }

    if (form) {
      form.addEventListener("submit", (e) => {
        e.preventDefault();
        const ciISO = checkin?.value || "";
        const coISO = checkout?.value || "";
        const ad = parseInt(document.getElementById("adultos")?.value || "1", 10);
        const ch = parseInt(document.getElementById("criancas")?.value || "0", 10);
        if (!ciISO || !coISO) { alert("Selecione as datas de check-in e check-out."); return; }
        const ci = toDDMMYYYY(ciISO);
        const co = toDDMMYYYY(coISO);
        const url = new URL("https://book.omnibees.com/hotelresults");
        url.searchParams.set("CheckIn",  ci);
        url.searchParams.set("CheckOut", co);
        url.searchParams.set("NRooms",   "1");
        url.searchParams.set("ad",       String(ad));
        url.searchParams.set("ch",       String(ch));
        url.searchParams.set("lang",     "pt-BR");
        url.searchParams.set("q",        OMNIBEES_HOTEL_ID);
        window.open(url.toString(), "_blank", "noopener");
        if (modal) modal.classList.remove("show");
      });
    }
  })();
</script>
</body>
</html>